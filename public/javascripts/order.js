function echo(stringA,stringB){var hello="你好";alert("hello world")}var itemNumber=new Array;var productName=new Array;var formName=new Array;var productDescription=new Array;var priceWeb=new Array;var priceRRP=new Array;var itemMultiplier=new Array;itemNumber[0]="1.";productName[0]="2011 Peche de Noire - Dry Rose";productDescription[0]="Single bottle each 750 mls";formName[0]="dryRose";priceWeb[0]=27.5;priceRRP[0]=29;itemMultiplier[0]=1;itemNumber[1]="2.";productName[1]="2013 Pinot Rose";productDescription[1]="Single bottle each 750 mls";formName[1]="pinotRose";priceWeb[1]=27.5;priceRRP[1]=29;itemMultiplier[1]=1;itemNumber[2]="3.";productName[2]="2010 Dry Riesling";productDescription[2]="Single bottle each 750 mls";formName[2]="dryRiesling";priceWeb[2]=27.5;priceRRP[2]=29;itemMultiplier[2]=1;itemNumber[3]="4.";productName[3]="2013 Classic Riesling";productDescription[3]="Single bottle each 750 mls";formName[3]="classicRiesling";priceWeb[3]=27.5;priceRRP[3]=29;itemMultiplier[3]=1;itemNumber[4]="5.";productName[4]="2012 Bliss - Sparkling Riesling";productDescription[4]="Single bottle each 750 mls";formName[4]="bliss";priceWeb[4]=29.5;priceRRP[4]=31;itemMultiplier[4]=1;itemNumber[5]="6.";productName[5]="2011 Pinot Noir";productDescription[5]="Single bottle each 750 mls";formName[5]="pinotNoir";priceWeb[5]=37;priceRRP[5]=39;itemMultiplier[5]=1;itemNumber[6]="7.";productName[6]="2011 Pinot Noir - Half Bottle";productDescription[6]="Single bottle each 375 mls";formName[6]="pinotNoirHalf";priceWeb[6]=19.5;priceRRP[6]=20.5;itemMultiplier[6]=1;itemNumber[7]="8.";productName[7]="2011 Reserve Pinot Noir";productDescription[7]="Single bottle each 750 mls";formName[7]="reservePinotNoir11";priceWeb[7]=65;priceRRP[7]=69;itemMultiplier[7]=1;itemNumber[8]="9.";productName[8]="2009 Reserve Pinot Noir";productDescription[8]="Single bottle each 750 mls";formName[8]="reservePinotNoir09";priceWeb[8]=65;priceRRP[8]=69;itemMultiplier[8]=1;itemNumber[9]="10.";productName[9]="2012 Mad Rooster";productDescription[9]="Single bottle each 750 mls";formName[9]="madRooster";priceWeb[9]=32;priceRRP[9]=34;itemMultiplier[9]=1;var fieldID=0;var prodSubTotal=0;function DP2S(fPrice){var sCurrency=""+(fPrice+0.00500000001);var nPos=sCurrency.indexOf(".");if(nPos<0){sCurrency+=".00"}else{sCurrency=sCurrency.slice(0,nPos+3);var nZero=3-(sCurrency.length-nPos);for(var i=0;i<nZero;i++){sCurrency+="0"}}return sCurrency}function IsNumeric(sText){var ValidChars="0123456789.";var IsNumber=true;var Char;for(i=0;i<sText.length&&IsNumber==true;i++){Char=sText.charAt(i);if(ValidChars.indexOf(Char)==-1){IsNumber=false}}return IsNumber}function calcProdSubTotal(){var prodSubTotal=0;$(".row-total-input").each(function(){var valString=$(this).val()||0;prodSubTotal+=parseFloat(valString)});$("#product-subtotal").text(prodSubTotal);console.log(prodSubTotal)}function calcTotalPallets(){var totalPallets=0;var thisValue;$(".num-pallets-input").each(function(){var thisValue=$(this).val();if((IsNumeric(thisValue))&&(thisValue!="")){totalPallets+=parseFloat(thisValue)}});$("#total-pallets-input").val(totalPallets);console.log(totalPallets)}function calcOrderTotal(){var orderTotal=0;var productSubtotal=$("#product-subtotal").text()||0;var shippingSubtotal=$("#shipping-subtotal option").val()||0;var shippingHidden=$("#shipping-hidden").val();var orderTotal=parseFloat(productSubtotal)+parseFloat(shippingSubtotal)+parseFloat(shippingHidden);var orderTotalNice=orderTotal;$("#order-total").text(orderTotalNice);$("#amount").val(orderTotalNice);$("#shipping-subtotal").change(function(){var shippingSubtotal=$("#shipping-subtotal").val()||0;$("#product-freight").text(shippingSubtotal);if(shippingSubtotal!=0){$("#shipping-hidden").attr("value",shippingSubtotal);var orderTotal=parseFloat(productSubtotal)+parseFloat(shippingSubtotal);var orderTotalNice=orderTotal;$("#order-total").text(orderTotalNice);$("#amount").val(orderTotalNice)}else{$("#shipping-hidden").attr("value",0);var orderTotal=parseFloat(productSubtotal)-parseFloat(shippingSubtotal);var orderTotalNice=orderTotal;$("#order-total").text(orderTotalNice);$("#amount").val(orderTotalNice)}})}$(function(){$(".table-responsive .add").click(function(){$(this).parent().prev().children().val(parseInt($(this).parent().prev().children().val())+1);var add=$(this).parent().prev().children().val();if(add>0){$(this).parent().prev().prev().children().attr("disabled",null);$("#shipping-subtotal").attr("disabled",null);var $this=$(this).parent().prev().children();var numPallets=$this.val();var multiplier=$this.parent().parent().parent().find("td.price-per-pallet span").text();if((IsNumeric(numPallets))&&(numPallets!=" ")){var rowTotal=numPallets*multiplier;$this.css("background-color","white").parent().parent().parent().find("td.row-total input").val(rowTotal)}else{$this.css("background-color","#ffdcdc")}calcProdSubTotal();calcTotalPallets();calcOrderTotal()}});$(".table-responsive .min").click(function(){$(this).parent().next().children().val(parseInt($(this).parent().next().children().val())-1);
var add=$(this).parent().next().children().val();if(add<=0){$(this).attr("disabled","disabled")}var $this=$(this).parent().next().children();var numPallets=$this.val();var multiplier=$this.parent().parent().parent().find("td.price-per-pallet span").text();if((IsNumeric(numPallets))&&(numPallets!=" ")){var rowTotal=numPallets*multiplier;$this.css("background-color","white").parent().parent().parent().find("td.row-total input").val(rowTotal);console.log(rowTotal+"--------------------")}else{$this.css("background-color","#ffdcdc")}calcProdSubTotal();calcTotalPallets();calcOrderTotal()});$("#order-form").submit(function(){var name=$("#name").val();var phone=$("#phone").val();var email=$("#email").val();var postal=$("#postal").val();console.log(name+"==="+phone+"==="+email+"==="+postal);var totalPallets=0;var checkValue=$("#shipping-subtotal").val();$(".num-pallets-input").each(function(){var thisValue=$(this).val();if((IsNumeric(thisValue))&&(thisValue!="")){totalPallets+=parseFloat(thisValue)}});if(totalPallets==0){alert("没有产品选择");return false}else{if(checkValue==0){alert("请选择一个货运目的地");return false}else{if(name==""||phone==""||email==""||postal==""){alert("请填写完整的信息");return false}else{return true}}}});$("#booking-form").submit(function(){var name=$("#name").val();var telephone=$("#telephone").val();var email=$("#email").val();var numberNights=$("#numberNights").val();var arrivalTime=$("#arrivalTime").val();var arrivalDate=$("#arrivalDate").val();var peopleCottage=$("#peopleCottage").val();var milk=$("#milk").val();var bread=$("#bread").val();console.log(numberNights+"==="+milk+"==="+bread+"==="+arrivalTime);if(name==""||telephone==""||email==""||numberNights==0||arrivalDate==""||peopleCottage==""||milk==0||bread==0||arrivalTime==0){alert("Please fill in full information");return false}else{return true}});$("#peopleCottage").change(function(){var peopleCottage=$("#peopleCottage").val();var numberNights=$("#numberNights").val();var amount=320;console.log(peopleCottage);if(numberNights>=2&&peopleCottage==2||numberNights>1&&peopleCottage==1){amount+=200*(numberNights-1);$("#amount").val(amount);$("#order-total").text(amount)}else{if(numberNights>=2&&peopleCottage>2){amount+=200*(numberNights-1)+60*(peopleCottage-2);$("#amount").val(amount);$("#order-total").text(amount)}else{if(numberNights==1&&peopleCottage>2){amount+=80*(peopleCottage-2);$("#amount").val(amount);$("#order-total").text(amount)}else{if(numberNights==1&&peopleCottage==1||numberNights==1&&peopleCottage>=1){$("#amount").val(amount);$("#order-total").text(amount)}else{$("#amount").val("0");$("#order-total").text("0")}}}}});$("#numberNights").change(function(){var peopleCottage=$("#peopleCottage").val();var numberNights=$("#numberNights").val();var amount=320;console.log(peopleCottage);if(numberNights>=2&&peopleCottage==2||numberNights>1&&peopleCottage==1){amount+=200*(numberNights-1);$("#amount").val(amount);$("#order-total").text(amount)}else{if(numberNights>=2&&peopleCottage>2){amount+=200*(numberNights-1)+60*(peopleCottage-2);$("#amount").val(amount);$("#order-total").text(amount)}else{if(numberNights==1&&peopleCottage>2){amount+=80*(peopleCottage-2);$("#amount").val(amount);$("#order-total").text(amount)}else{if(numberNights==1&&peopleCottage==1||numberNights==1&&peopleCottage>=1){$("#amount").val(amount);$("#order-total").text(amount)}else{$("#amount").val("0");$("#order-total").text("0")}}}}})});